
<ng-container *ngIf="!showPageLoader">
  <div>
    <!-- [itemWidth]="itemWidth"
    [itemHeight]="itemHeight"
    [horizontalSpacing]="horizontalSpacing"
    [verticalSpacing]="verticalSpacing" -->
    <tile-pane  style="display: flex; padding: 20px; overflow: hidden;"
      [items]="items"
      [itemTemplate]="tilePaneItemTemplate"
    >
    </tile-pane>
  </div>

  <ng-container *ngIf="searchQuery == null">
    <div style="margin: auto;">
      <span style="font-size: 30px; text-shadow: 0 0 3px #d0d0d0;">No search results</span>
    </div>
  </ng-container>

</ng-container>



<ng-container *ngIf="showPageLoader">
  <div style="margin: auto;">  
    <loader style="position: relative; top: 50%; margin: auto;"></loader>
  </div>
</ng-container>




<!-- Tilepane Item -->
<ng-template #tilePaneItemTemplate let-item="itemContext">
  <span class="grid-item">
    <span style="position: relative;">
      <span>
        <img img-loader class="thumbnail" src="{{item.bestThumbnail.url}}" (onLoad)="onImageLoaded($event, imgPlaceholder)" />
        <span #imgPlaceholder class="thumbnail-placeholder" style="background-color: #d0d0d0;"></span>
      </span>
       <span class="grid-item-video-length">
        {{ item.duration }}
      </span> 
      <div style="display: flex; flex-direction: row;">
        <div style="flex: 1 1 100%;">
          <div class="grid-item-title">
            {{ item.title }}
          </div>    
          <div style="line-height: 12px; margin-top: 10px;">
            <div class="grid-item-channel">
              {{ item.channel.name }}
            </div>
            <div class="grid-item-views" style="padding-top: 5px;">
              {{ item.itemViewsStr }} views
            </div>
          </div> 
        </div>

        <div style="position: relative; margin-left: auto; width: 35px;">
          <div class="popover-toggle"
            popup-toggle
            [popup]="popupMenu" 
            [popupActivate]="'click'" 
            [popupPlacement]="'RIGHT_TOP'" 
            [popupClass]="'popup-menu'" 
            [popupToggleClass]="'popover-toggle'"
          >
            <div class="grid-item-options">
              <span class="grid-item-options-img" style="mask-image: url(/assets/dots-vertical-icon.svg);"></span>
            </div>
          </div>
          <popup-menu #popupMenu
            [context]="item"
            [items]="tileContextMenuItems"
          >
          </popup-menu>

        <!-- <popup-menu #popupMenu
            [items]="[
               {
                  text: 'Play',
                  iconSrc: '/assets/play.svg'
               },
               {
                  text: 'Add to queue',
                  iconSrc: '/assets/queue-icon.svg'
               },
               {
                  separator: true
               },
               {
                  text: 'Add to playlist',
                  iconSrc: '/assets/playlists-icon.svg',
                  items: [
                        {
                           text: '1.2.1',
                           iconSrc: '/assets/playlists-icon.svg',
                           items: [
                              {
                                    text: '1.2.2.1',
                                    iconSrc: '/assets/playlists-icon.svg'
                              },
                              {
                                    text: '1.2.2.2',
                                    iconSrc: '/assets/playlists-icon.svg'
                              },
                              {
                                    text: '1.2.2.3',
                                    iconSrc: '/assets/playlists-icon.svg'
                              }
                           ]
                        },
                        {
                           text: '1.2.2',
                           iconSrc: '/assets/playlists-icon.svg'
                        }
                  ]
               },
               {
                  text: '1.3',
                  iconSrc: '/assets/playlists-icon.svg',
                  items: [
                        {
                           text: '1.3.1',
                           iconSrc: '/assets/playlists-icon.svg',
                           items: [
                              {
                                    text: '1.3.1.1',
                                    iconSrc: '/assets/playlists-icon.svg'
                              },
                              {
                                    text: '1.3.1.2',
                                    iconSrc: '/assets/playlists-icon.svg'
                              },
                              {
                                    text: '1.3.1.3',
                                    iconSrc: '/assets/playlists-icon.svg'
                              }
                           ]
                        },
                        {
                           text: '1.3.2',
                           iconSrc: '/assets/playlists-icon.svg',
                           items: [
                              {
                                    text: '1.3.2.1',
                                    iconSrc: '/assets/playlists-icon.svg'
                              },
                              {
                                    text: '1.3.2.2',
                                    iconSrc: '/assets/playlists-icon.svg'
                              },
                              {
                                    text: '1.3.2.3',
                                    iconSrc: '/assets/playlists-icon.svg'
                              }
                           ]
                        },
                        {
                           text: '1.3.3',
                           iconSrc: '/assets/playlists-icon.svg'
                        }
                  ]
               }
            ]"
        >
        </popup-menu> -->

        </div>
      </div>
    </span>
  </span>
</ng-template>